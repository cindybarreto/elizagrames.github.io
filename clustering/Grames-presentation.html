<!--?xml version="1.0" encoding="utf-8" ?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Eliza Grames">
  <meta name="date" content="2017-12-08">
  <title>A dendrogram-based approach to OTU clustering (15)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link href="data:text/css;charset=utf-8,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet">
  <script src="data:application/x-javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
<script type="text/javascript" src="Grames-presentation_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body style="visibility: visible; font-size: 18pt;" class=" single_slide"><div id="MathJax_Message" style="display: none;"></div><div class=" slidy_toc hidden"><div class=" toc-heading">Table of Contents</div>1. <a href="#%281%29" class=" titleslide">A dendrogram-based approach to OTU clustering</a><br>2. <a href="#%282%29">A dendrogram-based approach to OTU clustering(2)</a><br>3. <a href="#%283%29">A dendrogram-based approach to OTU clustering(3)</a><br>4. <a href="#%284%29">A dendrogram-based approach to OTU clustering(4)</a><br>5. <a href="#%285%29">A dendrogram-based approach to OTU clustering(5)</a><br>6. <a href="#%286%29">A dendrogram-based approach to OTU clustering(6)</a><br>7. <a href="#%287%29">A dendrogram-based approach to OTU clustering(7)</a><br>8. <a href="#%288%29">A dendrogram-based approach to OTU clustering(8)</a><br>9. <a href="#%289%29">A dendrogram-based approach to OTU clustering(9)</a><br>10. <a href="#%2810%29">A dendrogram-based approach to OTU clustering(10)</a><br>11. <a href="#%2811%29">A dendrogram-based approach to OTU clustering(11)</a><br>12. <a href="#%2812%29">A dendrogram-based approach to OTU clustering(12)</a><br>13. <a href="#%2813%29">A dendrogram-based approach to OTU clustering(13)</a><br>14. <a href="#%2814%29">A dendrogram-based approach to OTU clustering(14)</a><br>15. <a href="#%2815%29">A dendrogram-based approach to OTU clustering(15)</a></div>
<div class="slide titlepage first-slide hidden">
  <h1 class="title">A dendrogram-based approach to OTU clustering</h1>
  <p class="author">
Eliza Grames
  </p>
  <p class="date">12/08/17</p>
<br><br></div>
<div id="why-cluster-otus" class="slide section level2 hidden">
<h2>Why cluster OTUs?</h2>
<ul>
<li>Improve inference and interpretation</li>
<li>Reduce computatonal load</li>
</ul>
<br><br></div>
<div id="common-otu-clustering-approaches" class="slide section level2 hidden">
<h2>Common OTU clustering approaches</h2>
<ul>
<li><i>De novo</i> clustering
<ul>
<li>Average, single, or complete linkage</li>
<li>Allows for flexibility to each study</li>
<li>Doesn’t remove novel sequences</li>
</ul></li>
<li>Closed reference
<ul>
<li>e.g.&nbsp;GreenGenes</li>
<li>Allows for taxonomic identifaction</li>
</ul></li>
<li>Open reference
<ul>
<li>Combines closed reference with de novo</li>
</ul></li>
</ul>
<br><br></div>
<div id="issues-with-otu-clustering" class="slide section level2 hidden">
<h2>Issues with OTU clustering</h2>
<ul>
<li>Arbitrary cutoff of .03 dissimilarity</li>
<li>Ignores evolutionary distance and true taxonomy</li>
<li>Pairwise distances are commonly used instead of multiple sequence alignment, which ignores evolutionary change</li>
<li>Sequencing errors produce spurious OTUs</li>
</ul>
<br><br></div>
<div id="opticlust" class="slide section level2 hidden">
<h2>OptiClust</h2>
<ul>
<li>Default clustering algorithm in mothur</li>
<li>Maximizes the Matthews Correlation Coefficient</li>
<li>Based on a .03 dissimilarity cutoff</li>
</ul>
<br><br></div>
<div id="proposed-otu-clustering-approach" class="slide section level2 hidden">
<h2>Proposed OTU clustering approach</h2>
<ul>
<li>Use dendrogram edge lengths as a proxy for evolutionary distance
<ul>
<li>Nguyen et al. (2016) proposed basal length based on MSA</li>
<li>MSA is sensitive to sequencing errors</li>
</ul></li>
<li>Based on pairwise distances instead of MSA to reduce spurious OTUs</li>
<li>Not computationally intensive</li>
<li>More realistic to true taxonomic relationships</li>
</ul>
<br><br></div>
<div id="algorithm-development" class="slide section level2 hidden">
<h2>Algorithm development</h2>
<ul>
<li>Development data was a mock microbial community with equal propotions of <i>Lactobacillus crispatus</i>, <i>Prevotella bivia</i>, and <i>Gardnerella vaginalis</i></li>
<li>Algorithm should identify three OTUs and those OTUs should only contain sequences aligning to the three known taxa represented</li>
</ul>
<center>
<img src="data:image/png;base64,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" alt="Dendrogram of development data" style="width:50.0%">
</center>
<br><br></div>
<div id="data-processing-in-mothur" class="slide section level2 hidden">
<h2>Data processing in mothur</h2>
<ul>
<li>Data was screened to remove ambiguous base pairs, limit homopolymers, and remove sequences outside the standard length</li>
<li>Only unique sequences were used</li>
<li>Because data is V3V4, I used the entire silva bacteria reference file for alignment</li>
</ul>
<center>
<blockquote style="padding: 10px; background-color: #ccc; color: white; width:70%">
“I have purposely been obtuse on the forum about this question because I
 really think it’s a mistake to use regions like the V4-V5 or V3-V4”
</blockquote>
</center>
<ul>
<li>Sequences that differed by 3 base pairs (error rate of 0.69%) were preclustered</li>
<li>Chimeras were removed with uchime</li>
<li>Non-bacterial lineages were removed after classification</li>
<li>A cutoff distance of .00 was used for a lower triangle matrix of pairwise distances</li>
</ul>
<br><br></div>
<div id="clustering-in-r" class="slide section level2 hidden">
<h2>Clustering in R</h2>
<ul>
<li>Used the package ape to manipulate the dendrogram</li>
<li>Collapsed edges less than 10% the total tree length</li>
</ul>
<center>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3UAAAILCAMAAAB4j0UXAAADAFBMVEUAAAABAQECAgIDAwMEBAQFBQUGBgYHBwcICAgJCQkKCgoLCwsMDAwNDQ0ODg4PDw8QEBARERESEhITExMUFBQVFRUWFhYXFxcYGBgZGRkaGhobGxscHBwdHR0eHh4fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKiorKyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBRUVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2NkZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmKioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+wsLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLDw8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7////isF19AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO3dCXwU9d0/8J17783mPskJJIFwLQQ5w7GAEM5A5JAKBQwglaJSIyqiiDWoBUEF44UXWmMVtR6PxmL1Uf8eKW0fH209QvtYH4+qsdYDfSyd/8xurt2dTXZD5vv7zc73/Xq1JPGY78w3H3+/2Zn5jUVGCMGykC4AIdPB1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQRNx9SNqPAZRSEjKjgmHpZ+pV8bElwyG49+7Zndq0j9sA9F69juintajOL5Cw8ptoyuiYNNOe6Mf2O7MVKFw6V2wc0IQh8yqV8b+uBYTb1hDLj2WOwWx9aM4H9WOcnmmttlwZV7uzny618/8Umb4pu+HGAd2+1r0e/fTQn/BH+7wTM6f/iV0ou/v3v8+JPPHL30kquu2jB88WJneraHEy2MhY0WR4I7EenesgbDGHQkjh3bqJEvlnNmjlT4Jp++9dKrX24L94UOBxhT1z8u6N7KPkxkSNcf4rF5pCuInb85jr95fdx98Xgz3u7/ojF1/e6D91rvvrtp9goh0DZbaZGHY9jezgVJFx3CSKkrHhTH+Xu61qFnAgOezeXxeIpG7Ln/d1/qXzSmTl/Pb2xoON3t8wn772UrKjIFS5Tkka4zhJFS9/vX4jh/jzivU87eOC6r4mdNQR8AFY2p09+J51ta7BYL++EvlzY0pA/nXII69mHq4HWfYablFxQUD1UGwDvh68DUQfmWz3UwkhQZOEwdmA3dDznL55bOOXDgwGNQI1wXUqlrXHWKnxiv8Fb0XZk9S5MjuU+SlFMCh8OpcrBCOF5gWWUew0X9/DLxUvevIbWnwJPaJ0mOTvaOi6rdLtXxqtCD3v5XRJvC4Xa704s0jeuXg9odqdStn3mKnxhvGbyg7/zWHE09xKJHSndP8bq5fm3og1NO3XdC0yngB5X1RdxNC36M0s4zadKk+XWaftEvB7U7Uqm7ZJd+Gwb3p5cD5+qX/qLRf9q8Uk6QKir45EAUjZm6O0tOcSKylT+VzSd/3qd/LLaYKbIGDBgw4sIbm1WfnUqhfYap63/HltXXJ89OGewbaIn2kSXdqTvlq+S76EwdW6Kcxh2451Rq6x+YOn1cvSml8t7b1v7uzosaq30jx00sFpUZqGmu130nNJ4CR98GoGhZ41IKB1UseEoZ2P54irvVbzB1OvnbqLybblsrz4hxsCNdbohTTt3JidpnSLGxftKnjfZyhNWPTc44xf3qL5g63czYumGpPDq7lhmUY6sctmjRAEeGW+JEM6Tu1PTPDJNhOE9ycn7hwIkXbVNcvHPnVQ/9rZ8r7StMnW5Wzho9RV70sPxCyyFb5lmyPDZl1Ny912x3sMWFbkYIm2+SLjaEwVPHcN7k5LwJS99oO9nPlfUXTJ2OlBmmkjrFS6uvlOUVQ4eP4QWL9hUG0qWGMHjqOtNnXdTPlfUXTJ2OOlMnL1R/CxZvKZQKJkuioEx+MHXR9UPqGEGa09DQ8GY/V9ZfMHU62llaV3Cw87vtO+U38wtKOKeAY12P+mesc3q93kf6ubL+gqnT0RvbG0d2XR1aO6l+OWOJ8sAPwSojJUTqFKWfqY+l/rOfy+sHpFZwWLNdvw3TZNGdktdr1TqTw9RF4/1da1/0eoy5J4juVjekVivKWqnfhmmy6I6My/JG5CetWbhs2ZL5KaVlrlSGizirw9R1l1qofRdyL0IPqHqL5QUPHznyG3W4+4Ho/kQi1W5TzDBlNXWZ1yxv2cNY3DmsVeuEDlPXX6IeW1c8izyAwNTpq7LKdf1PlT+P7L5ywJy86DeFka4zhOFTxzBcSkpKaml5+ZCRI89rbCVdWjhMnb5uvcIbSF27nVYuo4hPihz0yFWowfCp46x5pKvpEaZOZx9ldk/dF1Nyr8kZ4LZGPANErkANhk8dw1vd5ZeRLig6TJ3OPkq9YH23b19nLeJYrwuvkve/kOM5ufFlMo/OxQRTp7O2zLxZIT+4Qsz0+31uIXT9FELVaTN46hjWnVm2h3Q5PcHU6a77DFOVlpxp58I/ViFTWhQGT52FkZIH7KfuI5RuMHW6C0/d4Wz7DCF8pTAypUVh9NRZWMcQ/3Wk6+kBpk534amT5brT7Vw+pq6fdQ11qb7RvyZdTY8wdbprT91vnmxuLl087rRx48bxtohLB4RrDGXw1CljnXPIJL/fP+cr0jVFganT3XkDA6s8usuqqphUlnM6nUzkQ3akiwxh+NQxrD274eDBW3937Nh/f0u6Lg2k2r04uU/32sWnkAmuA8t1LsoWPsRQg1AbtMGkjvQhD8eEL13LJXkDJvf/rvf7vzE2n7/Vp/vK47T3SMBdZ1wa9NOhi9qlDixtxwpSp8BqwMHDH/Oaev2DUBu0JUrqOnPE8UFSSnq7rMKAopqzO2w/2O6OjndM/rn9DXbf9/+u9/u/0cg+UKPaoC4GPzWtNu+apeubTh/v5/MyU7LcnCQFll/QacAkvechjJa69mzxkt2bWVlZeXbH42T9H5d+Qle76fHhTU2jNvr3yTPqGu2BzmZXlVk4DlPXf/r9GHKlc1+GKPzU0dVuqqydWbhdrm0KfnO4vmGFEjdm4apVNcI4UbJy/XuiSHZXwxgqddKimpqamyEK7j90tZsy627tTF27qTW1tdWOZt+Th0YFline4VUf0c0u2GF95OjRo9sOzt28uWzKlCkjvMXFxQ5eOVNkeFEULTwTOFvs4VyR0B5qI5W6zo8zOI4T0jKHB0xf3m6Fuq7lnsOHnzr2rn5vDIdBV7spM8HhFa+O+Oknhf6UG9NHdvvJE8vrra+3brh6zUC/35/rzk5WTtd59fVMgsgL6vubeh8T4XYqBsTHOiV4gQ+fRWVSYbW6UhQF1dXVS4NrQ282btza0dVuynzzeduCJq2/ULnGMfuOPY2NI89YOmb42LFZaSnKf54tgddp9XHOCb1rPSKeOu0kqll0JqempnWs8HBWQ0PDuxCl9je62k2fWs3UrV5gc0rKwGZLzxQ5UeTYvkUNU9cHosvtdqemZw0YkH9GfX396xCl9je62k2f6u3N15+1Q1EyfmTl6PKhQd6MU45ZGNL7GYLq1AUoo15GZqjcwmE13WyF2IW+oqvd9Fky1p/DKecWVsbCcDpeOCe9nyHoT50GhrWP6GY5xC70FV3tptk7L7Rczvnqbac+m9RCeu9CGCt1jCuvoKCmqekRGu+41EZXu2m3cGS131LKFBczfJQ3YvUV6T0LYZTUqZcYxLLl6rvMaX2jgTa62k27355XW21ZvuaBW+yM5HYowx5eJe+7Uz1kDKtenLE5roUotn/R1W767SqwLL9Plk9uOTvw2vtpYhK7dgczr3qY26q5pjOmLqq4U8YwnHqn+vhNmxX3vtl+b/I/IGrtZ3S1m37Hrw+krptpC2stzzQ3T7T3PXKYunhxL0JUqBu62m0E4alTFPr9/qScEePGlapvpmP68mQCiT2JiqbUBe8RE+zupPan3bw5JyCq0xVd7TYCS/n1Wj9++g7lnP4Xw1adybpcLolh4/yoE3ovekRT6tpxSUn5HwWnlBS+GStedLXbCH4y8mCPf/1r5Rfjs+daXtvc2NiYVVVVJZani9lJmLoI2gciePuzO3v+ccXnOj1VShpd7TaEyBlmj5585nz1puiqAlbs4S5onWrtG6JjnXCWeoNz314caRR0tdsQ1NQ9vamhYcyEiQGZ6joQmQUFBZmZWVkZGckpIaySrZOkruBi0bzeQHqnQhBInbpaCW+1RcosDlHu840dO3ZmdXV1rfr4AdUrPEdHV7sNQU3dttH19Ra7yyWI/XS1nPROhaDwvC40oeo6KDb1qYO5EIX2P7rabQhq6tQ1LpnnZTn3/AZrQS7ndTtZ7pSePCC9UyEoTh3jSs24oEF1AKJGndDVbkMYrTZ/SjB15YE7kQ5OlLzsK63OMont6zN2pHcqBHWpY5RpumPgxgONjca+TteBrnYbRsdYF0yd/MPf26wWC3u8IF+Z9fTpwVbC+xOKutRZRLvD6/WmPgdRFwC62m0YFynndd1SF+Re6f1VX28KI7YnWqhKXUpaepYid11bW9tJiLoA0NVuw3j2Jw0NEam77Oa0G8UNCxvHVi9bwlgYm8DGsGAKpi46huH53IEDK5tVb0HUBISudhtKROpkeewk7uKrgl9+s7rEJgheLsZFpAnUHx0lqcvy+XyzISoBR1e7DUUjdfK3/LhN8o37Nq+pW73qRzMrknKysuw2G8Or69f2+FwQmV2IglzqgjddqkuDOdweT/qIseqyYBvvVp+ga3rwA4iqQNDVbkPRSp28ZuoWeUh1qtPJsnF9qEJkD6KhZKxTUyiKotU9oKhSfSvSoxBVgaCr3YbCHNFInazMMP3Ni8aszs3mnA7REutzryR2ICo6UsfY09PTi2tqzmlsbPwdREFw6Gq3oZT8Vit162Y1DDyyaOqdsnx1kX3GoulnxBY7EjsQFSWpY7mcokUQlYCjq92GMv4lrdTdurq+4MFA6uRXckt8Ph+7/PuCXbPzWUkQAu8EwtS1izgG6kLrHC9NuDz4Iqu/tLX9G6IOAuhqt6Fop06hzDADqZP/+GpLSws/Sx76hlxznvqDL9ra3ptkWSCJQvjME7Ty3kCnLnBjpTMrdy3EZmlAV7sNJWrqRqwbMv7Ozu+GVCmp+5hfJp+/bqWjpMTN84Er6Zi6rsx1vFPEUzio9HGITZNGV7sNJWrqLt08uFvq7v6RkrpPbdMaUlhb9JMYuLJjQPC8znM/xKZJo6vdhhI1dbLcPsMM2Okukl741HVWfYp7GhP1sQSoomNCKHUMJ6T7EuzTSm10tdtQYkzdif9qHfzGp6myPM9ZKOFY1yXiGAgO54SlRyE2TRpd7TaUGFOnGBpI3aMS8/OGhmHlgY9Swj/KBKk4VvCpYzjP7BvuUe9A+R+ITZNGV7sNpfLB1taBcaTuxEz2X4FvT368nRfx05RumZOqfg+xRWrQ1W5DKc8rKhK1Xz8/Kv3K7t8GUyfPsvxL/vLdlx5s/tmuZTNtoW8Igig4ZsCfYXKusqmXqOPcexCbpQFd7TacKDPMJyeHrN6XbLHwyh/HGX9tqtuK53VBWoeBexViy8TR1W7DiZI6edWdod8HxjqZObtpQrGPT9e4QUXvQuNCIHWcb3tDQ+Lc3twLutptOPGljj/vRHNLy+7lGbZUK57Xdc4weYXdf/ujjz76IcR2KUBXuw0nvtTNr5lntWhfstO70LgQmmFy4rkQ26UAXe02nPhSd+N6v9VeXsFpPP6jd6FxIXDlwDVrzvyaP0BslgZ0tdtw4kudLJ9YIzL5ONYFhB4ARqi8+H2IzdKArnYbTlyp+1J9VcZb/klWblWKR2AwdcG4MSzLObImLP9lW6f/g9g+QXS123BiTd1H1traWps1+urQ+pcaB8JPtdq9eyG2TxBd7TacWFMnX9vU1DRsnNfP+x0Vc7hpUgamrmtyyfGSbVvjf0JslA50tdtwYk5d0KWrhLoyqxs/TVF1P6ljFXxGxuRZn0BsmTi62m040VI3npUkiY1j7XXYsntBx7op7YGUPEVF2vfdGRdd7TacaKl785w9e/f+vP7SgVOneAQmM6fXN47Alt0LoqljGM7myC6cuy3glocefa21NVFWWu9AV7sNJ1rqQlx1840lTrdkkbQu1GHqQhKnZM6eO7/2VogCyKGr3YYTU+qCvq9cUJmWlsbzmsnTscb4kVojjBcGJ9qopo2udhtOHKlTvH12frEl/A5MTF37OCdllJx5IcSGyaOr3YZT/tJZDbnD8kpLSwuKiooK0nJynE6PyuVwOp2iNRKr/aIf0jsSgsAdYQzDaxysdvZkRVZQ5YIuq+rvgCi0/9HVbsMpvz+j3hvHC7OiIr0jIWj6DDNc4NTPXRGwoOFXEIX2P7rabTipI9Lkp5lUIZ6LBJi6oL4eqlxf1ayvIQrUD13tNpzHbx4sP81+f9bVi0YMSpqxSExL8nqtks0qWfiYXyyCqYsqMLBxjtRUZeqeP2bitOlXB14g2Wz063d0tdt4XmeV343v19628KKLAyFjJKlP803S+xGCmtSFBPAnEEXBoKvdhqSMdWtvO/PewNcn/9DaWt94U/myZZNnJtuTBIFJy3YzItfzKyMxdV3ZCtwcpt4fJtqz8gvP3x70QPNfIEqCQle7Dal76sK894Bb+VWyVSW5oz9tgKmLxBZVVVVNObfhuhMQhcCjq92GdJclauoC3lzXUDAoM5XhehrtAOvtHcnUcZLdXgaxeZLoarchneB7Tp3i4LSipfXy5ZuqxGgfdkIVGxNS7zko9E24zxQ3p9DVbmMSe02dvIGbXi/vumTt6bvHap/hAZUaGyKpYx0L/waxWRrQ1W5jiiF18sql7ambzN+7Q+IwdRGpqzDHArQBdLXbmGJJ3eTipfKueWOnrrByq12CGHELNEylMQJPHSt6so1+DS4edLXbmIQ/n9HYW+qOzF0v78rJnbTCy191js/Bhr/JDqbSGEGv4MCwtuwRj0BskxJ0tduYUovcF/aWOrlBmWGWTTt9ZSp/Vf2JW9h0O6auywKI7VGErnYbVe8zzM7U2Zmr6mX5wqQpLL7Tp2Osk66G2B5F6Gq3UcWQuitWtZwz6LQRNdNZfpYsf7KkBMe6rtgJp0FskB50tduoYkldoS87d27hrCVcqTLWyTfkOjF1QVzGhnpzLA3Wia52G1UMqVPsKmu6cOUSrlxNnfz+xcxp3a7c6V1hXEBTx+9pg9gaVehqt1HFl7qN77XedOT+vYIHx7pg7q689rlEX2M9FF3tNqp4UsdmchqLhelfYxwIXCXPgNgiNehqt1HFk7oxvjMm826XBd8u0sUzykTLrcuYuv4RT+oeXvTu27UNDT4OrxwEP8Dkitt+gNgeRehqt1HFl7rUZHV9B5xhdsM4Bz4IsU1K0NVuo5q7eOT+3v8uJXVnDpnw8KJCKcXHhj3yo3+NcYC/XudOLlkDsU1K0NVuo9q3fui+3v+u9Uk3/Gr+1JtELlkIH+roagN46iRbVsGwf0NslA50tdu4YplhPj/0DvnBJfLH+aPX/3y4Gz9N6QyddRPE9ihCV7uNK5bUybVNaupkr+CUwk/sdC8wHuDndeUQ26MIXe02rnhSt4MReccAvPu5i+09iA3Sg652G1c8qXuSfY2ziY4kBlMXmGCy1r9CbI8idLXbuOJJ3b2M/J8uGxOyjIPuBcYDOHXC6NsgtkcRutptXPGk7n84+ZtVabk4w2yX/NNrTHaZnK52G1c8qftelOW/FIUu4aB7gfEATh3r9V4PsUF60NVu44ordZZIuhcYD0LrYa6C2CoV6Gq3ccWTOllKinjhj971xQU8dQxvW/U+xDYpQVe7jSuu1Mnyx9tn4R1hHZFLfgBiczShq93GFWvq7j6tSdUwd0IKi6kLpk5aVVdXt+UWg78JMh50tdu4YkpdVbYtSeOczuSpa8fZkpOTi56G2DJxdLXbuGJKXZ4rb1heioPhWDyvC7n7mRdsDpd7wMhlb3wPsWXi6Gq3ccWUunqLJXRlMExdCMb2Y4gNk0dXu40rptTJ8ou3Z47izzs7tTzFwmHqusx6/dixY2+3tZniPVqYuv4SY+pUay88y5btsVgwdSGOQmyTEnS127jiSJ0s/z+hOpexMnj3c4CQlL6k7ncQW6QGXe02rjPHFvn9k3P5JJVDZHh1iQaVJcrLWXGs6/mAMO1YXmV1FgwfPnyaXzXP+NNQutptXIucNk7jZZAxI11/CBpSF0W6v/l1iOL0RVe7jWu556JBGX0PHV1toDZ1bGPLuxCl6Y2udhtYucM7+VZPmfqQJstx6gQJU9ez2A6MMsfkBp5+5oYNhyBqAkJXu42spXDIodLfT6uKL22YupiSp0i6CqIoGHS128jerkjbX7pEav8MBVPXq3gP0RiIomDQ1W5jm3xPaf3PW//cqjjyzNFf/mT37hk1y8oLcnIkJuJtIpi6HlPHcZ7i4sFVa9e/fCzgj21tibQsO13tNraB09LrG+SnM9NjvFqAqYuZw5FQN0bT1W5ju337ACV1zZWPjv9R7Zyk0lJrcNVLtrdfKUxdJIZVcPaBPsXazZfdcENTK451SMufSut33X3N+JCffXJfc3M+P2fmsKQexz9CFWsjnrpbIbZPEF3tNjgldWs8o4ojfn7yBvVJ1nHr10+XGM6q+WELgWqjI5I6wZ5ZpNr/B4iNk0VXuw1OSd2myment3/37TutXd4NfipwbO70ZUmpDL5JSw57kxbvWrl532HF/a8GD9R/dTt4rX8x/k1gIehqt8H9QbDOrrw/xR+UYu9pSomp6+WIBM7s+KKg30AUBIeudhvdJz89p/Kru5qDzhrD1/nLW148b/y6urpZyflFRazAC+o1BI0pJunKQxAY6xiO53nJarUWTZy4Yf+hQ4deaFN9BVEIPLrabXj1m8YEflvaPlT+92LdpfPyNquKKsePH5+fk+1OS0tO5ixs5MeapAsPQWCs4+xpaWm5+UEjfTWrFTcc6/AORD2A6Gq34dVv8ti9TicX09UCTF08/BA1AaGr3YZXvyljn2yd4iyeUMjHdaWcdOEhqEkdw+7/X3Xm8A+IegDR1W7DC6Qu+fOjTzQ3DBWcre8wIwYOFFmu1xvC6GoD8dQFHmdNK6sYeR1EIfDoarfhtacu8PUVnsaDzOOy/Jtpl+QtYNxsLttD+AjXHYpg6hhOEKQBTU1vQVRADF3tNrxV45M6U/f5hLp1zGNT6uaW79wut7VVpjpOHy7YBIHVeuSccN2hSKSOF5NTU9My/Vd8BLFtwuhqt+HdM78rdYofmIfFxvNGKalTrODSLVHXeCBXsgaCY52YdTPEtgmjq93G92pG99Sd5K+3KTPMYOpeTN/3/FJB67IBpk6dWzqmLaj96AuILRNHV7uNLzR1cvXDNvl+d3aN+vVz4pnTGGeUUztiBWshM9axXkXynyE2TRpd7TY+jdSdfGHDtsA3G88uZsXVl8weJFnxPQeh768Thk2q276vqakVYsPk0dVu49NInSwHZ5jyfFvm12N4QfPcjlC52giMdSzLCq5JtY9AbJg8utptfGGpGzKckztTJ/86q+7sPLdDwNSpQs/q1LXAxkFslgZ0tdv4wlL33COS3JW6T7Y2Ns4ek+LRuGpOptoo4FPHJqdmD6ncD7FZGtDVbuMLS538rTrDPDNZfVqlx3sziRWsheS9Kbaiwf+E2DpRdLXb+LRSd/L1fXeuu2zF/IkzK9OSBKeEqQsInWEKVo/Hmz2wdPhpE7bvuvf3iXbnZSi62m18/yGeG5a6QT0NcZi6KBL7FI+udhvf9zMbwlI3d+hFt+611o4s4BkO78PsRvtAMIx3VNXMzyAKIIeudieAzaEzzO94+9DH5U/S5fNW+ZibbxI0HyTH1AXyJklSYg9xnehqdwIIS5389rTRgdRlzh7FqmvufH701gXWyOyRKlcTgc8wrcMug9gmJehqdwIIT508NOkWNXWDr81ivnyg+eJ9P66vr7+w0iGxAo+pC4xxon3u8uXLV27YrWhs/gvEtgmjq90JICJ1R8ccCaTu5WuYg2kToz1iR6pcTYTO6xiGdWb674DYNmF0tTsBRKROrg7MMAf/WWYfnXc8KyPyHkxMnYpLycvzbfk3xJaJo6vdCaCn1A2vOC5YN+RaGTbiIxVC1WojsQrtmucSdBU+LXS1OwFEpq58pH+yTU3d4SunHbd5LdmncSzeERb6zIE37X8gNkkLutqdACJT9+pTzQ8mq6mTH538mO3JA8Xjsq1s+DIOhKrVBp06xp47qNYM53Md6Gp3AohMnSI4w5R/lTWUe/LhbGbEVnzPQegMM7+p6Y8Q26QEXe1OAD2lTpaP256UtzrHiWz421vhC+0BeOoWN/wKYovUoKvdCaD31NWKo8WNeVYc6zrwWYP8ByC2SA262p0Aek/dy+UaN0TDF9oDEs8cFH0MsU1K0NXuBHDm0kZHxL27nal7R/il/II3i90a/rgPfKE9gE4d5youXwmxSVrQ1e4EcN2SOuvfw3/Ymbov0w/LJ64t5x6zZdh4AVOnSrrsyH+b4+J4J7ranRgiZ5ifchb2tcBXs59U/m8VJ/J/mhnyeQp0jT167PQ2AB27zvJpgxPtVVm9oKvdiSEydYrgWBdM3XeiXRgUuqADaIG9uUvyAujaeZZfRXqXYdHV7sTQa+p+SGM8Thu9qYPRFTpb5W7SxcAyY7v11mvqZJnzCiUspi748aVrVdNrpIuBZcZ26y2G1Ak7ZqVxmLoA3n0N6VKgmbHdeoshdaPGsKGXyQHLo0W3vd9ompUwg8zYbr1FS93fWltbS0SLJvAiyYs8CNz977YGtJGuTWdmbLfeoqRuXU+vSQYvkjzN48CyXEFR0XzStenMjO3WW5TUjWQ5dhwraK/hAF4keRHHgEkb+ae2ti9J1wXAjO3WW5TUTVvFsXmOLFbUmmSCF5/aMG0AABQ/SURBVElexDGwP026JChmbLfeoqXuYSez+JoKnl/NCJbwBWnBiySv2yAn5O59uu070gXBMWO79RYtdU9NYBbL73gE+VzXGKrXTYERdgTuIl0PIDO2W2/RUvcbmV0sy6dxsvzg/eOXcXZMXYBr9uHDf21L9I8tQ5ix3XrTTF3m2fkPyew8WT4hjZtQxoevEgZeJHnd9p7lBat7IemC4Jix3XrTTN3PdhU/KnuGyvIPHnGc3UX1e8lhdJ3WMWJ60egLTXRXmBnbrTfN1MmyMsN8cIn6xc7Lrbm8wGPq2gnJRSUlQ35Muh5AZmy33npLnSz7POK9jMAzmDpldln1LelKwJmx3XrrPXWfP8dOZaZ2X4wWsDxatO95yszN2w+ZaN1nlRnbrbeeU/fd262tzzwmjreFnNkBl0iDrvM6W8lNjz5qost1mDodKKn7VF2ioEW9kfetY4rHbr3z8OEBSUVhy/Fh6kLxeYOHLz/crunxxB0AzdhuvSVvczGiqHnjF6auS+8HhZUkKTsR16c1Y7v1lnzN8pwBBQyvYhkVpk5D7wfFm5GRcfM/SNepAzO2W2/J124ceWfLeYcC1oytqalxMGVsxKsNMHWaGMHXPsd8UZ2hnyRdph7M2G69Kakb+0roj9ZdIGbekGThLZHv0MLUdY8cf05Dw/OkK9OdGdutN43UyfKhYZs9OatZ9yJJmXdi6uSwt0Yygivt8sPvtH1BuioQZmy33jRTJ9fNtg2V3xqTzlq1hjsCZZIWdgS801d8TbokKGZst97sU+dppE6W0ytk+f39kqic4tH9rlYYYXNLR8VoTB3qs/MX1GqmzuUN/PHKTWOZZAfN76+D0W3vXTMbHyddDiQztlt3B7RmmLLc4uv46mpOPZXB1LUPc2zOwrrLSJcDyYzt1l2vqZPlkzYmGVMXMPhN0pWAM2O7dRctdSPa2n5/rN0rrE3Eu58VXE7ZutuPdTHDp5hmbLfu1NTNTtH4pDI60iUTEMNR4Qb6/ctI16kDM7Zbd9fPK39ZKh3Au/g0e/hSDZi6Dj0dDvU2OmvVj89pbG5+iXSdOjBju3W3v9zzuOPrz4d5Sss8vdwJhqmLHjyWZXMS8z4VM7YbwNhXHF/LXz3f0nJw/bh0toLhensAgXTBBERLm5CSklI6o/rNwBsP/kW6Sl2Ysd0AAqlrd3L3Lcwy2fmIZ4qYnmIt8Aicxs2YJIslJGxkk7zpmUMWNTd/Q7ouAGZsN4DuqVPUDK3lj1bKT611pd1or68f7bKEn+0Rq5SckPEteednpOsBZMZ2AwhLXcutTbbfVsryiVtLRNubN95xRRnjFhgWU6eS0spWr76kWZWYZ3GRzNhuAGGpU1gvKFP+/w8ZvCPk6jimLjjY8aWlpaP9i0yyeIoZ2w0gMnVVC/MDf6YWFrGYOlXYhyg29wTTLNFnxnYDiEyd/Gplx1cfbJtY5+ScmLqOkzrvHY8+32qGT1E6mLHdAKKk7hN16bC2v7YeP/7i6JyQt2kRqZKsjl0Xit493u4H0jUBMWO7AWik7mhemUX7Pa0mT13YTPMc0nUBMGO7AWik7oMzBlosLobD1LULjxvvrVpUU1NzM+m6AJix3QAGTOe11lB9dpPTIaVpBQ+8QvIiRrnslaRLgmLGdgO47z6r9nIEfz9yTkOeYGHCb08Bro8G3fae8zUce6PVJJcNZEydbiJmmF3eFRk+/OYUwMpo0X33s24lXQ0oM7YbRA+pk2VO5DgLruDQZfBZ/yRdDiQzthuE4+vHDt1/aPcNij2bduzYUb106dLi4aUVAdl2vA+ze+qseflDKzpVrb7nnnteamtrS8TF1gPM2G4QDieXKkT5wFID6XIJ6OWIsCzr/pR0jToxY7tBOJJ2nZsisBEPF2DqOvSWOs7jzb+OdJH6MGO7QTiS2sRCkYk1dqTLJaDXY8KK4z8kXaQ+zNhuEA53GvfVic/UO8A+u71y7QrW7hSt0aecpMslIMqRGHXgxZb3SdemMzO2G4TDVSDuTBo1alRefomL4XllyOtp0CNdLgHRDwbDcYI3LaPgj6RL1IsZ2w3C4Rp8Zr1bSV3wrci9vTqSdLkE9BA6UbS7PfOv+j/SJerFjO0GoaTum2l1dXanjeNjOLUjXS4BPR8QlpUSd01oM7YbhJK6//U0NuYOSXcMkpY7OJso9vTBCulyCYh2KESbKyUls6DwAOkC9WPGdoMQuMEfZapffPrgQd5rXSTLz0+umpAslJa7WI2VaUmXS0Do0MbxVrvdXurzXUy6LgBmbDeI55ztqVN81bbSV1c3b/CYPQXi+z+XsivzR7MSvtOnK3L29Zff1ZSwd6JEMmO7Ybi7UifLz17Z2Lh1+KQX7vP86ZZBjrRMHOvCVityXEG6HEhmbDcM9+CX0kN+8Pz4cS/IniTH0Dn8pixMXUjqhLFvkS4HkhnbDcPtdUshP3jaKjyg/HF4xdu8A1ehDTuvK536Bul6AJmx3TDc6Wszw3406QXl/xokL8e6WAs+6dM5vRRsOWOn/ol0PYDM2G4Y0VJ38uO2GXaXJd0lYOoCmWNtA7eSrgWYGdsNQyN1w+aMdiY5XW4pch1aIiWS1X33Wd5msztTs7IGj5hLui4AZmw3DKtrbWwP+WDqomAGLThJukh9mLHdMDYlr7ZM2XcBZ7fY3LyFt7A93opJuloCtJOmYjmF1XX+Uy+TrlEnZmw3jDczz+VHHHmoRj7Y1LSTsTjnDM5jJV7rHQeYus7IsTtIVwXCjO2GoaRueOZtSuoCXvEM3PxmSbmPFyVMXVDkIMcln0m6KBhmbDcMJXXynCc6Uvf9tbNrDs7bsmXjxJoxGS7GEj7mka2ViO6RSx89utJfp9ra2Nh4OEFP5zqZsd0w1NQNysoob8kscafaOTHa3BJTFzHoccN97SYm5vtGzNhuGGrq/vrugXmvpiRlnT+6ZGTZ4GyOZ7jwhTAxdR1hY62e5JQMReaMO+95tiUgQR+xM2O7Yaipk+WHal7LGiO5o71UBFOnNdol+3x7SVenKzO2G0Zn6rJ3yPKzG5WJk1fjuTpMXUjeWKsta9367f8mXZvOzNhuGMHU3Vy4KGlH4Pud/I+S7JluRmDwDckB4YlzVVVVTbuyQbEfU4f6Jpi69y7alrIj8P33Gza43TNOZ9T/omPqZI331/0H6YrAmLHdMIKpk+XADDPgy61pZ9xyp020aswziZVJTugBYJ3jF54gXRIUM7YbRmTqZDkps/5I9R3jpBHzUi34Jq0uomtHc7NpMoep088fPCsCf76YtKXzZ8/O2W8bLH8z0+3Bp1q7p47l3KSrAWXGdsP4eNCiwJ9vD1jd9cOzD3KTHmn+dfUofGtkSOpcVT/ZffA50hWBMWO7gewPzjDlHTu6fjbRwbBJeJU8IOwIWB0/Jl0RGDO2G4hW6r75WMhzMgKmTg5bI4z3LH2KdEFwzNhuIFqpk//FMQyncbGcRIGEhR4AhhGn/px0SVDM2G4gmqmT5Z85LByu4CCHjXUMJxZf/wzpkqCYsd1AulK3rbGx/uKtc1YUTxx/WtnwkSnJPBs+2pEtlYiQ0LGclDNaNbW6uvqMxqAnSJeoFzO2G0hn6razdfkWfNInXJQjwbIsP6ZyhfqsXQPpEvVixnYD6UjdUhsjL6kYZ1M/Q8G7n7toHgdlqunKnfaz+uOkq9OVGdsNpCN133/INYy6MfDliy2ZwqzFPIefpshhqWPErDGtpCsCY8Z2A+lInSzPrS/f0/7lpz6nJGDqVKHzyuTU9KJrSJcExYztBtKVOllefmldQ0PDEiHbzSnnLXj3sypsZskwrGC1lvj8tVeSrkx3Zmw3kO6pmyxa7ZKjhxUxyZVJjPZ5HSfklvl8vkdIV6crM7YbyP5zZ0XLGKZOjmHtZ4X9K9JV6sKM7Qay/9xN1SnF6SWsiKnTEv1gBBaA5kXnoLrLSRepDzO2G4iSumUbgl+eaHvn3kvX7NixwmkP/k5h6iLP61g+IyPfN6HurkRfvwFTp6P21A2fKtoYnsexLpz2gWB5XlC48vz+y0hXqBszthtIe+qy792yd3TtYndunshEvKIVUxdOTK1ap7hgT3Nz4l6/M2O7gZw3IG/6FKuXvy/Hx1h6WJQPUxeOYZO8imrSFerGjO0G8v4v59fMmteWe2hYSwHvVB/vwTdpdacdOOX8Tkob9dc2xTekK9SNGdsNZtOyWTVyhjNDvuA6+WTb8eub8qf6/eXWknJMnRz2pA9b5PNt6f2fSRBmbDeYQOrkZ0saZ1z8cGVFSkkJK6p3pmhNNkmXSkDEIMcwnCTZsssSfyUHM7YbTDB1f55eN/y8xkkMn5SEM8xuNKaXrCR5RlRfTboy3Zmx3WAWDx8bfH3dBdfds5L5tyx/t5d15Wg+aEe4UhIiMpdV5CddExAzthvMzRMrg6lbOLxyPBO4+Lsyae7pX316R1X4YwdE6ySj++xyGOliYJmx3XAOzgqm7rXbz10YTJ28zHfaDHtexJkdySoJCT8E55AuCI4Z2w2nI3WyHJxhqvbkCVY3pi4kdRwveYa9QrogOGZsN5yu1F2VZWlP3ft7bBU5TLrAYeo6Mjf6yt33PPt/pOsBZMZ2w+lK3SeHmc6beo+1LLR8MCH0ojmhAknqOq2rI10KNDO2G05X6mSZ6XYr/YfM7TmhV+0IFEdaZ+ik1FG+paSrAWXGdsOJljrZNxc/w+zaef6xlndIVwPKjO2GE5q6fbcfmn72xrHT/H7/tIqxY4skBlNnYVPSB0+YMmfOnLlnqLbu3ftEW8Kf4pmx3XBCUveeNfyDSxzrtM0lXZrezNhuODsHTuz82l3ESRf8Z7QnfggWSYrmcVj+MumyIJix3XCenTyh23ciu2Izd8audak2LmIVaGIlktO184xk9S5adN5zJ0mXBMWM7Qb0UE23b16XRk3hNilftJQyVkxdt72f/xrpYmCZsd2AQlL3CTeygQ2eszjsSRxeOWgf6XhnWuFvSVcDyoztBhSSOnnS+L3+5YGvnhJdeG9KO05ye/Yk/MeWIczYbkChqftp1d4bN7358h1Nh+6ey1qk7msXkSqQoI5dd6cOGTlu/jkfkq4HkBnbDSgidbsms278DDMg7AhcQboeQGZsN6DQ1C3Jq39wNltrKRxtTWN5PK9rP69TuEeMGHEW6YLgmLHdgEJTd7fvYlne+wBr3cQ5mDS8+7md4HBknzZh1kWkC4JjxnYDCk2dvGVv4IeOARHXyolUR1bXzvO8KNmLGkkXBMeM7QakmTpZ/ofNYsfUdWFmkC4GlhnbDShK6uS9Qi4+6dNpNOlSoJmx3YAiUvdm8RDehZ9hqkIPAMNy/IDEf5tPkBnbDSgsdbXTV2Xcu+DCyQPGshYc6zrzxlb++PzrDh09+gXpkqCYsd2AHqr5tu3he+6+++4d1167bee2heN89tmzZ+eOHDlSdOFnmO2pyy4+fXbA8m1B23c2HDjwQLMiQR92NWO7AT00z+awWDhWc+VZHOuiYVibLWX4JL//QtJF6sOM7QZ0m8QwXA+/Xpi6qMETpcRdINOM7QZlnSfn/3Zo3bnnlg0tticnOQXtcY90mQSEx4yxugacc+DALd+RLkx/Zmw3qB9ZLOwbU85M8w1nw5+pw9Rpqen9nzQ8M7Yb2oDfnnbB2fK5Gb7M/AuTrClWi8b7I0nXSEDoQMfzaRs/+4p0TUDM2G5oBQX2dWfL+zbLT59V77Y6JMHL4x1hYWMdY3fPurmtzQSzS5UZ2w1vygWB1CnW8INZrYkm6QoJiDwITu8I0kXBMGO74XWlTr5mtMjt3jbKwWLqOrG2tKeb/5d0PYDM2G54AwdP70id/P0WzunA87qw8zrXsDtJ1wPIjO2G9/C6+Vl5Mzu+G2YVcIYZNsNkk3EFB9TPblmat7XrzTUTpH1nJWHqOmTNmbPw7b+TLgeSGdtNwC1LSzpmmIoj4rOy/M1MTF1Qgt721QMztpuA0NTJ2TYu7JIdudKI6b771oycZ0jXA8iM7Sbg5rmF+84Z7/WIESd0mLpQj5AuC4IZ203Abo/zykm28dXWZAnfLtIu/BAwnDup4CPSVYEwY7tJeLfk7ulSee1gyePxMBrv9SFdHwHdA6diWTbhX6HVzoztJuHdEvmfdmkOw0begomp65Ry2/ekqwJhxnaToKRO/nzDFbzXJfF2jeiRro+A0KGOG7dq1aq6n35NuioQZmw3CW85iq0Sy3IcozW/NHnqOrG25Mzy8soz3iJdm87M2G4SvijPSmU55dyF0SSRro8AzQMhWD2evFGbSNemM0wdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhBw9QhBA1ThxA0TB1C0DB1CEHD1CEEDVOHEDRMHULQMHUIQcPUIQQNU4cQNEwdQtAwdQhB+/98FTwmfLgPeAAAAABJRU5ErkJggg==" alt="Comparison of dendrogram before and after collapsing" style="width:70.0%"></p>
</center><br><br></div>
<div id="clustering-in-r-1" class="slide section level2 hidden">
<h2>Clustering in R</h2>
<ul>
<li>Calculated the average edge distance to a node and from a node</li>
</ul>
<pre><code>##      to.dist.av from.dist.av  dif   ID
## 5590        NaN    0.0773150   NA 5590
## 5591  0.0695651    0.0687254 TRUE 5591
## 5592  0.0687254          NaN   NA 5592
## 5593  0.0447529    0.0418892 TRUE 5593
## 5594  0.0418892    0.0418774 TRUE 5594
## 5595  0.0379300          NaN   NA 5595
## 5596  0.0458248          NaN   NA 5596
## 5597  0.1176270    0.0312733 TRUE 5597
## 5598  0.0312733          NaN   NA 5598</code></pre>
<br><br></div>
<div id="clustering-in-r-2" class="slide section level2 hidden">
<h2>Clustering in R</h2>
<ul>
<li>Nodes with no children or parents (root and tips) were removed</li>
<li>Nodes with distance to them greater than distance from them were considered potential nodes</li>
<li>Potential OTUs cannot be children of other OTUs</li>
</ul>
<pre><code>##   to.dist.av from.dist.av  dif   ID
## 1  0.0695651    0.0687254 TRUE 5591
## 2  0.0447529    0.0418892 TRUE 5593
## 3  0.0418892    0.0418774 TRUE 5594
## 4  0.1176270    0.0312733 TRUE 5597</code></pre>
<pre><code>## [1] 5594</code></pre>
<pre><code>##   to.dist.av from.dist.av  dif   ID
## 1  0.0695651    0.0687254 TRUE 5591
## 2  0.0447529    0.0418892 TRUE 5593
## 3  0.1176270    0.0312733 TRUE 5597</code></pre>
<br><br></div>
<div id="taxonomic-classification" class="slide section level2 hidden">
<h2>Taxonomic classification</h2>
<ul>
<li>Extracted all tip labels for each node and compared them to sequence classification</li>
<li>Looked at unique taxonomic assignments for each OTU to relate back to mock community</li>
</ul>
<pre><code>##                                                                                                         unique.taxa
## 1                                                                                                     Lactobacillus
## 2                  BacteriaFirmicutesBacilliLactobacillalesLactobacillales_unclassifiedLactobacillales_unclassified
## 3                                                                                     Lactobacillaceae_unclassified
## 4                             BacteriaFirmicutesBacilliBacilli_unclassifiedBacilli_unclassifiedBacilli_unclassified
## 5 BacteriaBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassified
## 6    BacteriaFirmicutesFirmicutes_unclassifiedFirmicutes_unclassifiedFirmicutes_unclassifiedFirmicutes_unclassified</code></pre>
<pre><code>##                                                                                                         unique.taxa
## 1                                                                                                        Prevotella
## 2                                                                                       Prevotellaceae_unclassified
## 3                 BacteriaBacteroidetesBacteroidiaBacteroidalesBacteroidales_unclassifiedBacteroidales_unclassified
## 4 BacteriaBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassifiedBacteria_unclassified</code></pre>
<pre><code>##   unique.taxa
## 1 Gardnerella</code></pre>
<br><br></div>
<div id="algorithm-validation-and-comparison-to-opticlust" class="slide section level2 hidden">
<h2>Algorithm validation and comparison to OptiClust</h2>
<ul>
<li>Entire process was repeated for a more complex data set with six known taxa</li>
<li>Identical data processing steps in mothur but with the clustering option set to OptiClust with default dissimilarity cutoff</li>
</ul>
<br><br></div>
<div id="results" class="slide section level2 hidden">
<h2>Results</h2>
<table>
<thead>
<tr class="header">
<th align="left">Data set</th>
<th align="center">Known taxa</th>
<th align="center">Dendrogram</th>
<th align="center">OptiClust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Development</td>
<td align="center">3</td>
<td align="center">3</td>
<td align="center">1215</td>
</tr>
<tr class="even">
<td align="left">Validation</td>
<td align="center">6</td>
<td align="center">9</td>
<td align="center">836</td>
</tr>
</tbody>
</table>
<p><img src="data:image/png;base64,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ArDRbhEn311iFQIAPSAAJQlAIwA7PXz2zFjnooeXexUCAD0gACUJQDMAtdr3NozY+stDy7kKAYAeEICSBGA4ALU7jp8Z8dTPPPCPl7/5MxMcEO+csqsHLIMAlCQARQBqtSsPiIg1Xn3VP1r+nyY7osYTp+zqAcsgACUJwNIA1Gpfe1xjW77r2d+455GW/9pzDxtvYew/ZVcPWAYBKEkARgegtvjS/ZvP52fvelpHq9gxnlH51QL+AQEoSQDGBKDu6let1mxAR6sQAOgBAShJAMYHoFa799ITNhQA6H8CUJIATAxA3dBV7+poFQIAPSAAJQnApAHolABADwhASQIgADCoBKAkAajVzjjjvWVXIQDQA4ti9kJKmC0AVRAA6IFFXfjW9GlOACogANADi3q9+Rx8AlABAYAeWNTrzefgE4AKCAD0wKJebz4HnwBUQACgBxb1evM5+ASgAgIAPbAodr+NEnYVgCoIAPSAzwGU5HMAlRAA6AEBKEkAKiEA0AMCUJIAVEIAoAcEoCQBqIQAQA8IQEkCUAkBgB4QgJIEoBICAD0gACUJQCUEAHpAAEoSgEoIAPSAAJQkAJUQAOgBAShJACohANADAlCSAFRCAKAHBKAkAaiEAEAPCEBJAlAJAYAeEICSBKASAgA9IAAlCUAlBAB6QABKEoBKCAD0gACUJACVEADoAQEoSQAqIQDQA4ti9sJKzZ5RrYiKV1j17ysAVRAA6IE/Luj1d6oPulVunJI7RgCAKXdfxV+SfvN11frd1RWv8JaKf+H7p+Z+EQCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSGtQA3P21j1780yUdX0wAAAoDFoDvv+LsxuRvx8+NuvUu7DQBAgBQGKgAPPSqiGPr02s3imHPeKCzNQgAQGGgAvCC+ib/uHoHtouYvf+rXvGU+tnjO1uDAAAUBikA345Y/eIHa7WPRmzzy8aMbz464oqOViEAAIVBCsBhMbO5ud8/Zv+yNecbES/taBUCAFAYpABsFQc1p2vFPsWsJ8WWy17+oSt+Mt6WAgAwbJACsEKc2pzOjpOLWSfFyste/siYxBOm7OoBDJZBCsC6w2/5rtN4J7jlpTF/2ctftNME82KvKbt6AINlkAKwZ2y4uDF9ejypmLVrbNrRKrwHAFAYpAC8P+LMofr0MxHfb835SutzAe0TAIDCIAXg3i0invvjodrQgbFpczegb6wT8d2OViEAAIVBCkDtijUiYrtXveuD68cKh5372n3r517S2RoEAKAwUAGo/X7Xcfv0vOThzlYgAACFwQpAbei/D5w7svWffcC3O728AAAUBiwAdXd99/1nvvyYE04972u3d35hAQAoDF4AShEAgIIAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJCQBAUgIAkJQAACQlAABJdTMAd19z9d0VDbL4xxd/5LJbOr+cAAAUuhSA6z90+GYLom7+ps/94HXLueb/+79ftk48+Pa1GuuKpyzqdBUCAFDoRgD+9pZNY4xNzv3rcq05dmpO73zyyJrOHupsFQIAUJj6APzq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Rb5Q/7+zeOIS1f2+/WtpAFbd4kVfGnWwzaHLnrfBCms96cRrhs9PdhM3vg9gpc1O+VPtK2ecN3aZ2mR33Z9P2XzF1ff8zNDDs1qvWo9efMJNLwCTuOMTR2y95uy1tj36knuKWfUAXFj7+jMfNXutff+jOCRE8ZAffQPf8K/7bjJ/7tq7nTbydnDxhTBDlx6w0dx1D/1qrfbaM1oH5LjtzU/bZMW1dn7+t4bGro+aAHTD0J2/vfYfL1X1RWlP6Zv4uojPLM/llvz1l7eWGng6agaA7hEA6NxXjziieF/9rNaRXKmCAHSZAEDnfhbxz61XmK6eHzv1+MpMIwLQZQIAnRvaNeLQb/397iveOS/i0l5fm+lDALpMAGA5/GXTkfebX9Pr6zKNCECXCQAsj3vO26i5X+mTv9TrazKdCECXCQAsp3uu/N6v7vnHi0HfEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACSEgCApAQAICkBAEhKAACS+v9OR44x46yC3wAAAABJRU5ErkJggg==" width="768"></p>
<br><br></div>
<div id="discussion" class="slide section level2">
<h2>Discussion</h2>
<ul>
<li>Marked improvement in number of OTUs identifed over OptiClust</li>
<li>Greater taxonomic accuracy for simple communities</li>
<li>Needs to be tested on more complex communities</li>
<li>OTU clustering approaches based on evolutionary change and dendrograms should be used more</li>
</ul>
<br><br></div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>



<div class="toolbar" tabindex="0" style="display: block;"><div style="float: right; text-align: right"><span>slide 15/15</span></div><div style="text-align: left"><span style="color: rgb(240, 240, 240);">* </span><a href="http://www.w3.org/Talks/Tools/Slidy2/help/help.html" title="Navigate with mouse click, space bar, Cursor Left/Right, or Pg Up and Pg Dn. Use S and B to change font size." style="display: none;">help?</a> <a href="javascript:w3c_slidy.toggle_table_of_contents()" title="table of contents">Contents</a> </div></div></body></html>